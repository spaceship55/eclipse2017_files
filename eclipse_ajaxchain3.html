<!DOCTYPE html>
<html>
<head>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	<title></title>
</head>
<body>

<script>

// https://medium.com/coding-design/writing-better-ajax-8ee4a7fb95f
// case1
// 	$.ajax({
//     dataType: 'json',
//     url: 'totalEclipse_lat_long.json'
// }).done(function(cityState) {
// 	totalEclipseCityState = cityState.locations[1090].CITY + ", " + 	cityState.locations[1090].STATE;
//         console.log(totalEclipseCityState);
// }).fail(function(jqXHR, textStatus, errorThrown) {
//     // If fail
//     console.log(textStatus + ': ' + errorThrown);
// });


// case2

// var ajaxCall1 = $.ajax({
//     dataType: 'json',
//     url: 'totalEclipse_lat_long.json'
// });

// ajaxCall1.done(function(cityState) {
// 	totalEclipseCityState = cityState.locations[1090].CITY + ", " + 	cityState.locations[1090].STATE;
//     console.log("case2: " + totalEclipseCityState);
// });


// case3
var a1 = $.ajax({
	dataType: 'json',
    url: 'http://api.zippopotam.us/us/' + '10001'
	}).done(function(zipResult) {
			places = zipResult['places'][0];
					cityName = places['place name'];
					stateName = places['state'];

					city_stateName = cityName + ", " + stateName;
					// zip_box.addClass('success').removeClass('error');
					// locationName.text(city_stateName);
					console.log(city_stateName);
	}),

    a2 = $.ajax({
	dataType: 'json',
    url: 'totalEclipse_lat_long.json'
    }).done(function(cityState2) {
		totalEclipseCityState2 = cityState2.locations[1000].CITY + ", " + cityState2.locations[1000].STATE;
	        // console.log(totalEclipseCityState2);
	});

$.when(a1, a2).done(function(r1, r2) {
 // var totalEclipseCityState = r1[0].locations[1000].CITY + ", " r1[0].locations[1000].STATE;
 // var totalEclipseCityState2 = r2[0].locations[1001].CITY + ", " r2[0].locations[1001].STATE;

console.log("from when and done : "+ city_stateName);
console.log("from when and done : "+ totalEclipseCityState2);

});





</script>
</body>
</html>